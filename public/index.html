<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ME-XPERIENCE | The Strait of Messina Luxury Stay</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', sans-serif; background-color: #ffffff; color: #1a1a1a; }
        h1, h2, h3, .serif { font-family: 'Cormorant Garamond', serif; }
        .hero-gradient { background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%); }
        .btn-luxury { border: 1px solid #1a1a1a; transition: all 0.4s ease; text-transform: uppercase; letter-spacing: 0.15em; font-size: 0.7rem; font-weight: 600; }
        .btn-luxury:hover { background-color: #1a1a1a; color: #fff; }
        .sub-title { letter-spacing: 0.3em; font-size: 0.65rem; color: #8c8c8c; }
        .fade-in { animation: fadeIn 2s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <nav class="flex justify-between items-center px-8 py-6 sticky top-0 bg-white/90 backdrop-blur-sm z-50 border-b border-gray-100">
        <div class="text-xs tracking-[0.4em] font-light">MESSINA</div>
        <div class="text-xl tracking-[0.3em] font-light uppercase serif">ME-XPERIENCE</div>
        <div class="flex gap-6">
             <a href="/services" class="text-[10px] tracking-widest uppercase hover:text-gray-400 transition">Servizi</a>
             <a href="/master-admin-dashboard" class="text-[10px] tracking-widest uppercase text-gray-300">Admin</a>
        </div>
    </nav>

    <header class="relative h-[85vh] overflow-hidden flex items-center justify-center">
        <img src="https://images.unsplash.com/photo-1544148103-0773bf10d330?auto=format&fit=crop&w=1800&q=80" 
             class="absolute inset-0 w-full h-full object-cover fade-in" alt="Stretto di Messina">
        <div class="absolute inset-0 hero-gradient"></div>
        
        <div class="relative text-center px-4 max-w-3xl mt-20">
            <p class="sub-title uppercase mb-4">Un'esperienza senza tempo</p>
            <h2 class="text-5xl md:text-7xl font-light mb-8 serif italic">La Notte del Mito</h2>
            <p class="text-sm font-light leading-relaxed text-gray-600 mb-10 px-10">
                Scivola sulle acque leggendarie dello Stretto di Messina. Un viaggio privato tra storia, leggenda e l'eccellenza dell'ospitalità siciliana.
            </p>
            <button onclick="scrollToBooking()" class="btn-luxury px-10 py-4">Scopri di Più</button>
        </div>
    </header>

    <section id="booking" class="py-24 px-6 bg-white">
        <div class="max-w-4xl mx-auto border border-gray-100 p-12">
            <div class="grid md:grid-cols-2 gap-16">
                
                <div class="flex flex-col justify-center">
                    <span class="sub-title uppercase mb-2">Riserva la tua esperienza</span>
                    <h3 class="text-4xl serif mb-6 italic">Dettagli del Tour</h3>
                    <p class="text-sm text-gray-500 leading-relaxed mb-6 font-light">
                        Il tour include navigazione privata su Feluca storica, degustazione di vini locali e narrazione delle leggende di Scilla e Cariddi.
                    </p>
                    <div class="text-2xl serif text-gray-800">€ 120,00 <span class="text-xs uppercase font-sans tracking-widest text-gray-400 font-light">/ persona</span></div>
                </div>

                <div class="space-y-6">
                    <div>
                        <label class="sub-title block mb-2 uppercase tracking-widest">Scegli la Data</label>
                        <input type="date" id="booking-date" class="w-full border-b border-gray-300 py-3 text-sm focus:outline-none focus:border-black transition font-light">
                    </div>
                    
                    <div>
                        <label class="sub-title block mb-2 uppercase tracking-widest">Orario Desiderato</label>
                        <select id="booking-time" class="w-full border-b border-gray-300 py-3 text-sm focus:outline-none focus:border-black transition font-light bg-transparent">
                            <option value="20:30">Tramonto (20:30)</option>
                            <option value="22:30">Chiaro di Luna (22:30)</option>
                        </select>
                    </div>

                    <button onclick="handleBooking()" class="w-full bg-[#1a1a1a] text-white py-5 text-[10px] tracking-[0.3em] uppercase font-bold hover:bg-gray-800 transition shadow-lg">
                        Verifica Disponibilità
                    </button>
                </div>

            </div>
        </div>
    </section>

    <footer class="py-20 text-center border-t border-gray-50">
        <div class="serif italic text-2xl mb-6">ME-Xperience</div>
        <p class="sub-title uppercase mb-10">Messina • Sicilia • Italia</p>
        <div class="flex justify-center gap-8 text-[10px] tracking-widest text-gray-400">
            <a href="#" class="hover:text-black">PRIVACY</a>
            <a href="#" class="hover:text-black">TERMINI</a>
            <a href="#" class="hover:text-black">CONTATTI</a>
        </div>
   <div class="max-w-4xl mx-auto px-6 pb-12 mt-20">
    <p class="text-[8px] text-gray-300 uppercase tracking-[0.2em] leading-relaxed text-center italic">
        ME-Xperience opera come piattaforma di intermediazione tra ospiti e fornitori terzi indipendenti. 
        I servizi di trasporto e le attività turistiche sono eseguiti da operatori professionali autorizzati e assicurati. 
        ME-Xperience non è responsabile per l'esecuzione diretta delle prestazioni ma garantisce il rigoroso rispetto degli standard qualitativi del brand.
    </p>
</div>
   <a href="/login" class="text-[8px] text-gray-300 uppercase tracking-widest hover:text-black transition">Private Access</a>
    </footer>

    <script>
        const stripe = Stripe('TUA_CHIAVE_PUBBLICA_STRIPE');

        function scrollToBooking() {
            document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
        }

        async function handleBooking() {
            const date = document.getElementById('booking-date').value;
            const time = document.getElementById('booking-time').value;
            
            if (!date) {
                alert("Per favore, seleziona una data.");
                return;
            }

            const urlParams = new URLSearchParams(window.location.search);
            const partnerId = urlParams.get('ref') || 'DIRECT';

            const response = await fetch('/create-checkout-session', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ partnerId, date, time })
            });

            const session = await response.json();
            if (session.id) {
                await stripe.redirectToCheckout({ sessionId: session.id });
            }
        }
    </script>
</body>
</html>

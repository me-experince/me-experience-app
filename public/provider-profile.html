<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>ME-X | Feluca dello Stretto</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,400&family=Montserrat:wght@300;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', sans-serif; background: #fff; }
        .serif { font-family: 'Cormorant Garamond', serif; }
        .cart-float { position: fixed; bottom: 30px; right: 30px; background: black; color: white; padding: 20px 30px; border-radius: 50px; cursor: pointer; box-shadow: 0 10px 30px rgba(0,0,0,0.2); transition: 0.3s; z-index: 100; }
        .cart-float:hover { transform: scale(1.05); }
    </style>
</head>
<body>

    <header class="h-[70vh] relative overflow-hidden flex items-end p-20">
        <img src="https://images.unsplash.com/photo-1544148103-0773bf10d330" class="absolute inset-0 w-full h-full object-cover">
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
        <div class="relative z-10 text-white">
            <span class="text-[10px] uppercase tracking-[0.4em] text-amber-500 mb-4 block font-bold">Luxury Boat Experience</span>
            <h1 class="text-7xl serif italic">Feluca dello Stretto</h1>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-24 grid grid-cols-1 md:grid-cols-2 gap-20">
        <div>
            <h2 class="serif text-4xl italic mb-8">L'Emozione della Tradizione</h2>
            <p class="text-gray-500 font-light leading-relaxed">Scopri lo Stretto di Messina a bordo di una vera Feluca. Un'esperienza riservata a chi cerca l'anima vera della Sicilia.</p>
        </div>

        <div class="bg-gray-50 p-12 rounded-[3rem] border border-gray-100 shadow-sm">
            <h3 class="text-[10px] uppercase font-bold tracking-widest mb-10">Riserva il tuo slot</h3>
            <div class="space-y-6">
                <input type="date" id="book-date" class="w-full bg-transparent border-b border-gray-200 py-4 outline-none">
                <button onclick="addToCart('Notte del Mito', 120)" class="w-full bg-black text-white py-6 rounded-2xl text-[10px] font-bold uppercase tracking-widest hover:bg-amber-600 transition">
                    Aggiungi al Carrello - â‚¬ 120
                </button>
            </div>
        </div>
    </main>

    <div id="cart-float" class="cart-float hidden" onclick="checkout()">
        <span class="text-[10px] uppercase font-bold tracking-widest">Carrello: <span id="cart-count">0</span> Oggetti</span>
    </div>

    <script>
        let cart = [];

        function addToCart(name, price) {
            const date = document.getElementById('book-date').value;
            if(!date) return alert("Scegli una data");
            
            cart.push({ name, price, date });
            document.getElementById('cart-count').innerText = cart.length;
            document.getElementById('cart-float').classList.remove('hidden');
            alert(name + " aggiunto al carrello luxury.");
        }

        async function checkout() {
            const email = prompt("Inserisci la tua email per la ricevuta:");
            const response = await fetch('/api/create-luxury-checkout', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ cart, customerEmail: email })
            });
            const session = await response.json();
            // Redirect a Stripe...
            window.location.href = session.id; 
        }
    </script>
</body>
</html>
